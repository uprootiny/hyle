<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hyle - Rust-native code assistant</title>
    <meta name="description" content="Autonomous code assistant. See it work.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>λ</text></svg>">
    <style>
* { margin: 0; padding: 0; box-sizing: border-box; }
html, body { height: 100%; }
body {
    font-family: system-ui, -apple-system, sans-serif;
    background: #0a0a0b;
    color: #e8e8ec;
}

.hero {
    height: 100vh;
    display: flex;
    flex-direction: column;
    position: relative;
}

/* Live demo as hero background */
.hero-demo {
    position: absolute;
    inset: 0;
    z-index: 0;
}
.hero-demo iframe {
    width: 100%;
    height: 100%;
    border: none;
}

/* Overlay content */
.hero-content {
    position: relative;
    z-index: 10;
    padding: 2rem;
    display: flex;
    flex-direction: column;
    height: 100%;
    pointer-events: none;
}

.hero-top {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
}

.brand {
    pointer-events: auto;
}

.brand h1 {
    font-size: 2.5rem;
    font-weight: 200;
    letter-spacing: -0.03em;
    text-shadow: 0 2px 20px rgba(0,0,0,0.8);
}

.brand p {
    color: #888;
    font-size: 0.9rem;
    text-shadow: 0 1px 10px rgba(0,0,0,0.8);
}

.nav {
    display: flex;
    gap: 1rem;
    pointer-events: auto;
}

.nav a {
    color: #888;
    text-decoration: none;
    font-size: 0.85rem;
    padding: 0.5rem 1rem;
    background: rgba(0,0,0,0.6);
    border-radius: 4px;
    backdrop-filter: blur(10px);
    transition: all 0.15s;
}
.nav a:hover { color: #fff; background: rgba(107,159,255,0.3); }

.hero-bottom {
    margin-top: auto;
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
}

.demo-label {
    pointer-events: auto;
    background: rgba(0,0,0,0.7);
    padding: 1rem 1.5rem;
    border-radius: 8px;
    backdrop-filter: blur(10px);
    max-width: 400px;
}

.demo-label h2 {
    font-size: 1rem;
    font-weight: 500;
    margin-bottom: 0.25rem;
}

.demo-label p {
    font-size: 0.8rem;
    color: #888;
    margin-bottom: 0.5rem;
}

.demo-label code {
    display: block;
    font-family: 'SF Mono', monospace;
    font-size: 0.7rem;
    color: #6b9fff;
    background: rgba(107,159,255,0.1);
    padding: 0.5rem;
    border-radius: 4px;
    white-space: pre-wrap;
}

.demo-nav {
    display: flex;
    gap: 0.5rem;
    pointer-events: auto;
}

.demo-btn {
    width: 40px;
    height: 40px;
    background: rgba(0,0,0,0.7);
    border: 1px solid #333;
    border-radius: 50%;
    color: #888;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    transition: all 0.15s;
    backdrop-filter: blur(10px);
}
.demo-btn:hover { background: rgba(107,159,255,0.3); color: #fff; border-color: #6b9fff; }

.demo-dots {
    display: flex;
    gap: 0.5rem;
    align-items: center;
    padding: 0 1rem;
}

.demo-dot {
    width: 8px;
    height: 8px;
    background: #333;
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.15s;
}
.demo-dot:hover { background: #666; }
.demo-dot.active { background: #6b9fff; width: 24px; border-radius: 4px; }

/* Scroll indicator */
.scroll-hint {
    position: absolute;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    color: #444;
    font-size: 0.75rem;
    text-align: center;
    pointer-events: none;
    animation: bounce 2s infinite;
}
@keyframes bounce {
    0%, 100% { transform: translateX(-50%) translateY(0); }
    50% { transform: translateX(-50%) translateY(-10px); }
}

/* Below fold - more demos */
.demos-section {
    padding: 4rem 2rem;
    background: #0a0a0b;
}

.demos-section h2 {
    text-align: center;
    font-size: 1.5rem;
    font-weight: 300;
    margin-bottom: 2rem;
    color: #888;
}

.demo-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 1.5rem;
    max-width: 1400px;
    margin: 0 auto;
}

.demo-frame {
    background: #111;
    border: 1px solid #222;
    border-radius: 8px;
    overflow: hidden;
}

.demo-frame-header {
    padding: 0.75rem 1rem;
    background: #0a0a0b;
    border-bottom: 1px solid #222;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.demo-frame-title {
    font-size: 0.85rem;
    font-weight: 500;
}

.demo-frame-links {
    display: flex;
    gap: 0.75rem;
    font-size: 0.75rem;
}

.demo-frame-links a {
    color: #6b9fff;
    text-decoration: none;
}
.demo-frame-links a:hover { text-decoration: underline; }

.demo-frame iframe {
    width: 100%;
    height: 350px;
    border: none;
    background: #000;
}

.demo-frame-prompt {
    padding: 0.75rem 1rem;
    background: #0a0a0b;
    border-top: 1px solid #222;
    font-family: 'SF Mono', monospace;
    font-size: 0.7rem;
    color: #666;
}
.demo-frame-prompt::before {
    content: 'prompt: ';
    color: #6b9fff;
}

/* Install section */
.install-section {
    padding: 4rem 2rem;
    text-align: center;
    border-top: 1px solid #1a1a1a;
}

.install-section h2 {
    font-size: 1.25rem;
    font-weight: 300;
    margin-bottom: 1.5rem;
    color: #888;
}

.install-box {
    display: inline-flex;
    align-items: center;
    gap: 1rem;
    background: #111;
    border: 1px solid #222;
    border-radius: 8px;
    padding: 1rem 1.5rem;
    font-family: 'SF Mono', monospace;
}

.install-box code {
    color: #4ade80;
    font-size: 1rem;
}

.install-box button {
    background: #222;
    border: 1px solid #333;
    color: #888;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.85rem;
}
.install-box button:hover { background: #333; color: #fff; }

.github-link {
    display: inline-block;
    margin-top: 1.5rem;
    padding: 0.75rem 2rem;
    background: #6b9fff;
    color: #000;
    text-decoration: none;
    border-radius: 6px;
    font-weight: 500;
}
.github-link:hover { background: #8bb3ff; }

footer {
    padding: 2rem;
    text-align: center;
    color: #444;
    font-size: 0.8rem;
    border-top: 1px solid #1a1a1a;
}
footer a { color: #666; }

@media (max-width: 800px) {
    .demo-grid { grid-template-columns: 1fr; }
    .hero-bottom { flex-direction: column; gap: 1rem; align-items: flex-start; }
    .demo-label { max-width: 100%; }
}
    </style>
</head>
<body>

<section class="hero">
    <div class="hero-demo" id="heroDemo">
        <iframe src="/projects/datacenters/" id="heroIframe"></iframe>
    </div>

    <div class="hero-content">
        <div class="hero-top">
            <div class="brand">
                <h1>hyle</h1>
                <p>describe → build → deploy</p>
            </div>
            <nav class="nav">
                <a href="https://github.com/uprootiny/hyle">source</a>
                <a href="/projects/">all demos</a>
            </nav>
        </div>

        <div class="hero-bottom">
            <div class="demo-label" id="demoLabel">
                <h2>Datacenters Globe</h2>
                <p>Interactive cloud infrastructure visualization</p>
                <code>dymaxion globe with datacenter locations, water usage, fire risk overlay</code>
            </div>

            <div class="demo-nav">
                <button class="demo-btn" onclick="prevDemo()">←</button>
                <div class="demo-dots" id="demoDots"></div>
                <button class="demo-btn" onclick="nextDemo()">→</button>
            </div>
        </div>

        <div class="scroll-hint">↓ more demos below</div>
    </div>
</section>

<section class="demos-section">
    <h2>All running live. Click to interact.</h2>

    <div class="demo-grid">
        <div class="demo-frame">
            <div class="demo-frame-header">
                <span class="demo-frame-title">Seismic Activity</span>
                <div class="demo-frame-links">
                    <a href="/projects/seismic/" target="_blank">fullscreen</a>
                    <a href="https://github.com/uprootiny/hyle/blob/master/projects/seismic/index.html" target="_blank">source</a>
                </div>
            </div>
            <iframe src="/projects/seismic/"></iframe>
            <div class="demo-frame-prompt">real-time seismic sonification, fetch USGS feed, magnitude to pitch, mercator</div>
        </div>

        <div class="demo-frame">
            <div class="demo-frame-header">
                <span class="demo-frame-title">Labyrinth</span>
                <div class="demo-frame-links">
                    <a href="/projects/labyrinth/" target="_blank">fullscreen</a>
                    <a href="https://github.com/uprootiny/hyle/blob/master/projects/labyrinth/index.html" target="_blank">source</a>
                </div>
            </div>
            <iframe src="/projects/labyrinth/"></iframe>
            <div class="demo-frame-prompt">procedural labyrinth crawler, ASCII map, markov chains on borges, URL state</div>
        </div>

        <div class="demo-frame">
            <div class="demo-frame-header">
                <span class="demo-frame-title">Dodeca</span>
                <div class="demo-frame-links">
                    <a href="/projects/dodeca/" target="_blank">fullscreen</a>
                    <a href="https://github.com/uprootiny/hyle/blob/master/projects/dodeca/index.html" target="_blank">source</a>
                </div>
            </div>
            <iframe src="/projects/dodeca/"></iframe>
            <div class="demo-frame-prompt">spiky dodecahedron, noise-perturbed surface, rotoscoped over starry void</div>
        </div>

        <div class="demo-frame">
            <div class="demo-frame-header">
                <span class="demo-frame-title">JSONL Viewer</span>
                <div class="demo-frame-links">
                    <a href="/projects/jsonl/" target="_blank">fullscreen</a>
                    <a href="https://github.com/uprootiny/hyle/blob/master/projects/jsonl/index.html" target="_blank">source</a>
                </div>
            </div>
            <iframe src="/projects/jsonl/"></iframe>
            <div class="demo-frame-prompt">JSONL viewer, drag file, jq-style queries, syntax highlighting, export</div>
        </div>
    </div>
</section>

<section class="install-section">
    <h2>Run it yourself</h2>
    <div class="install-box">
        <code>cargo install hyle</code>
        <button onclick="navigator.clipboard.writeText('cargo install hyle')">copy</button>
    </div>
    <br><br>
    <a href="https://github.com/uprootiny/hyle" class="github-link">View on GitHub</a>
</section>

<footer>
    <a href="https://hyperstitious.org">hyperstitious.org</a>
</footer>

<script>
const demos = [
    { src: '/projects/datacenters/', title: 'Datacenters Globe', desc: 'Interactive cloud infrastructure visualization', prompt: 'dymaxion globe with datacenter locations, water usage, fire risk overlay' },
    { src: '/projects/seismic/', title: 'Seismic Activity', desc: 'Real-time earthquake visualization with sonification', prompt: 'real-time seismic sonification, fetch USGS feed, magnitude to pitch' },
    { src: '/projects/dodeca/', title: 'Dodeca', desc: 'WebGL polyhedron with noise displacement', prompt: 'spiky dodecahedron, noise-perturbed surface, rotoscoped rendering' },
    { src: '/projects/labyrinth/', title: 'Labyrinth', desc: 'Procedural text crawler', prompt: 'procedural labyrinth, ASCII map, markov chains on borges' },
    { src: '/projects/jsonl/', title: 'JSONL Viewer', desc: 'Stream-friendly JSON Lines tool', prompt: 'JSONL viewer, drag file, jq-style queries, export' }
];

let currentDemo = 0;
const heroIframe = document.getElementById('heroIframe');
const demoLabel = document.getElementById('demoLabel');
const demoDots = document.getElementById('demoDots');

// Create dots
demos.forEach((_, i) => {
    const dot = document.createElement('div');
    dot.className = 'demo-dot' + (i === 0 ? ' active' : '');
    dot.onclick = () => showDemo(i);
    demoDots.appendChild(dot);
});

function showDemo(idx) {
    currentDemo = idx;
    const demo = demos[idx];
    heroIframe.src = demo.src;
    demoLabel.innerHTML = `
        <h2>${demo.title}</h2>
        <p>${demo.desc}</p>
        <code>${demo.prompt}</code>
    `;
    document.querySelectorAll('.demo-dot').forEach((d, i) => {
        d.classList.toggle('active', i === idx);
    });
}

function nextDemo() {
    showDemo((currentDemo + 1) % demos.length);
}

function prevDemo() {
    showDemo((currentDemo - 1 + demos.length) % demos.length);
}

// Auto-rotate hero demo
setInterval(nextDemo, 12000);
</script>

</body>
</html>
