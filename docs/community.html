<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>hyle - Open Source</title>
  <style>
    :root {
      --bg: #ffffff;
      --fg: #24292f;
      --accent: #0969da;
      --green: #1a7f37;
      --orange: #9a6700;
      --border: #d0d7de;
      --muted: #656d76;
      --subtle: #f6f8fa;
      --success-bg: #dafbe1;
      --warning-bg: #fff8c5;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;
      background: var(--bg);
      color: var(--fg);
      line-height: 1.5;
    }
    .container { max-width: 1012px; margin: 0 auto; padding: 0 1.5rem; }

    header {
      padding: 1rem 0;
      border-bottom: 1px solid var(--border);
      background: var(--subtle);
    }
    .header-inner {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .logo {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--fg);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .logo-icon {
      width: 32px;
      height: 32px;
      background: var(--fg);
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      font-size: 0.9rem;
    }
    nav { display: flex; gap: 1rem; }
    nav a {
      color: var(--fg);
      text-decoration: none;
      font-size: 0.9rem;
      padding: 0.5rem 1rem;
      border-radius: 6px;
    }
    nav a:hover { background: var(--border); }

    .hero {
      padding: 3rem 0;
      text-align: center;
      border-bottom: 1px solid var(--border);
    }
    .hero h1 {
      font-size: 2.5rem;
      margin-bottom: 0.75rem;
    }
    .hero p {
      color: var(--muted);
      font-size: 1.2rem;
      max-width: 600px;
      margin: 0 auto 1.5rem;
    }
    .badges {
      display: flex;
      gap: 0.5rem;
      justify-content: center;
      flex-wrap: wrap;
    }
    .badge {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      padding: 0.25rem 0.6rem;
      background: var(--subtle);
      border: 1px solid var(--border);
      border-radius: 20px;
      font-size: 0.75rem;
      color: var(--muted);
    }
    .badge-green { background: var(--success-bg); border-color: var(--green); color: var(--green); }

    .stats-bar {
      display: flex;
      justify-content: center;
      gap: 3rem;
      padding: 1.5rem 0;
      border-bottom: 1px solid var(--border);
    }
    .stat {
      text-align: center;
      cursor: pointer;
      transition: transform 0.2s;
    }
    .stat:hover { transform: scale(1.05); }
    .stat-value {
      font-size: 1.75rem;
      font-weight: 600;
    }
    .stat-label {
      color: var(--muted);
      font-size: 0.85rem;
    }

    .section {
      padding: 2.5rem 0;
      border-bottom: 1px solid var(--border);
    }
    .section:last-of-type { border-bottom: none; }
    .section h2 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }
    .section-desc {
      color: var(--muted);
      margin-bottom: 1.5rem;
    }

    /* Issue cards */
    .issue-list {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }
    .issue {
      display: flex;
      gap: 1rem;
      padding: 1rem;
      border: 1px solid var(--border);
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.2s, border-color 0.2s;
    }
    .issue:hover { background: var(--subtle); border-color: var(--accent); }
    .issue-icon {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--green);
      flex-shrink: 0;
    }
    .issue-icon.enhancement { background: var(--accent); }
    .issue-icon.bug { background: #cf222e; }
    .issue-content { flex: 1; }
    .issue-title {
      font-weight: 600;
      margin-bottom: 0.25rem;
    }
    .issue-meta {
      font-size: 0.8rem;
      color: var(--muted);
    }
    .issue-labels {
      display: flex;
      gap: 0.5rem;
      margin-top: 0.5rem;
    }
    .label {
      padding: 0.15rem 0.5rem;
      border-radius: 20px;
      font-size: 0.7rem;
      font-weight: 500;
    }
    .label-good-first { background: #7057ff; color: white; }
    .label-help-wanted { background: #008672; color: white; }
    .label-docs { background: #0075ca; color: white; }
    .label-tests { background: #fbca04; color: #24292f; }

    /* Code quality checklist */
    .checklist {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1rem;
    }
    .check-item {
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      padding: 1rem;
      background: var(--subtle);
      border-radius: 8px;
    }
    .check-icon {
      width: 20px;
      height: 20px;
      border-radius: 4px;
      background: var(--green);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      flex-shrink: 0;
    }
    .check-text {
      font-size: 0.9rem;
    }
    .check-text code {
      background: var(--border);
      padding: 0.1rem 0.3rem;
      border-radius: 3px;
      font-size: 0.85em;
    }

    /* Contribute grid */
    .contribute-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1rem;
    }
    .contribute-card {
      padding: 1.25rem;
      border: 1px solid var(--border);
      border-radius: 8px;
      transition: border-color 0.2s, box-shadow 0.2s;
      cursor: pointer;
    }
    .contribute-card:hover {
      border-color: var(--accent);
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .contribute-icon {
      font-size: 1.5rem;
      margin-bottom: 0.75rem;
    }
    .contribute-card h3 {
      font-size: 1rem;
      margin-bottom: 0.5rem;
    }
    .contribute-card p {
      color: var(--muted);
      font-size: 0.85rem;
      margin-bottom: 0.75rem;
    }
    .contribute-link {
      color: var(--accent);
      text-decoration: none;
      font-size: 0.85rem;
    }
    .contribute-link:hover { text-decoration: underline; }

    /* Clone command */
    .clone-box {
      background: var(--subtle);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 1rem;
      margin: 1.5rem 0;
    }
    .clone-tabs {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 0.75rem;
    }
    .clone-tab {
      padding: 0.4rem 0.75rem;
      border: none;
      background: transparent;
      font-size: 0.85rem;
      cursor: pointer;
      border-radius: 6px;
      color: var(--muted);
    }
    .clone-tab.active { background: var(--bg); color: var(--fg); }
    .clone-command {
      display: flex;
      align-items: center;
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 6px;
      overflow: hidden;
    }
    .clone-command code {
      flex: 1;
      padding: 0.75rem 1rem;
      font-family: 'SF Mono', 'Fira Code', monospace;
      font-size: 0.85rem;
    }
    .clone-copy {
      padding: 0.75rem 1rem;
      background: var(--subtle);
      border: none;
      border-left: 1px solid var(--border);
      cursor: pointer;
      font-size: 0.85rem;
      color: var(--accent);
    }
    .clone-copy:hover { background: var(--border); }

    /* Activity feed */
    .activity-feed {
      max-height: 300px;
      overflow-y: auto;
    }
    .activity-item {
      display: flex;
      gap: 1rem;
      padding: 0.75rem 0;
      border-bottom: 1px solid var(--border);
    }
    .activity-item:last-child { border-bottom: none; }
    .activity-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      color: var(--muted);
    }
    .activity-content {
      flex: 1;
      font-size: 0.9rem;
    }
    .activity-user { font-weight: 600; }
    .activity-action { color: var(--muted); }
    .activity-target { color: var(--accent); }
    .activity-time {
      font-size: 0.75rem;
      color: var(--muted);
    }

    footer {
      padding: 2rem 0;
      text-align: center;
      color: var(--muted);
      font-size: 0.85rem;
      border-top: 1px solid var(--border);
    }
    footer a { color: var(--accent); text-decoration: none; }

    .variant-switcher { position: fixed; bottom: 1rem; right: 1rem; }
    .switcher-toggle {
      width: 28px; height: 28px; border-radius: 6px;
      background: var(--subtle); border: 1px solid var(--border);
      color: var(--muted); cursor: pointer; font-size: 12px;
      display: flex; align-items: center; justify-content: center;
    }
    .switcher-toggle:hover { border-color: var(--accent); color: var(--accent); }
    .switcher-panel {
      display: none; position: absolute; bottom: 34px; right: 0;
      background: var(--bg); border: 1px solid var(--border); padding: 0.5rem;
      min-width: 150px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .switcher-panel.open { display: block; }
    .switcher-item {
      display: block; padding: 0.4rem 0.75rem; color: var(--muted);
      font-size: 12px; text-decoration: none; border-radius: 4px;
    }
    .switcher-item:hover { color: var(--fg); background: var(--subtle); }
    .switcher-item.active { color: var(--accent); }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="header-inner">
        <a href="/" class="logo">
          <span class="logo-icon">h</span>
          hyle
        </a>
        <nav>
          <a href="https://github.com/uprootiny/hyle">Code</a>
          <a href="https://github.com/uprootiny/hyle/issues">Issues</a>
          <a href="https://github.com/uprootiny/hyle/pulls">Pull Requests</a>
          <a href="https://github.com/uprootiny/hyle/discussions">Discussions</a>
        </nav>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <div class="badges">
        <span class="badge badge-green">MIT License</span>
        <span class="badge">Rust 1.75+</span>
        <span class="badge">v0.3.3</span>
        <span class="badge">364 tests</span>
      </div>
      <h1>Build with us</h1>
      <p>hyle is an open source code assistant. Every line is readable, testable, and yours to modify. No CLA required.</p>
    </section>

    <div class="stats-bar">
      <div class="stat" onclick="showSection('tests')">
        <div class="stat-value">364</div>
        <div class="stat-label">Tests passing</div>
      </div>
      <div class="stat" onclick="showSection('loc')">
        <div class="stat-value">26K</div>
        <div class="stat-label">Lines of Rust</div>
      </div>
      <div class="stat" onclick="showSection('modules')">
        <div class="stat-value">31</div>
        <div class="stat-label">Modules</div>
      </div>
      <div class="stat" onclick="showSection('contributors')">
        <div class="stat-value">Open</div>
        <div class="stat-label">to contributors</div>
      </div>
    </div>

    <section class="section">
      <h2>Get Started</h2>
      <p class="section-desc">Clone, build, and run tests in under a minute.</p>

      <div class="clone-box">
        <div class="clone-tabs">
          <button class="clone-tab active" onclick="setCloneType('https')">HTTPS</button>
          <button class="clone-tab" onclick="setCloneType('ssh')">SSH</button>
          <button class="clone-tab" onclick="setCloneType('cli')">GitHub CLI</button>
        </div>
        <div class="clone-command">
          <code id="cloneCode">git clone https://github.com/uprootiny/hyle.git</code>
          <button class="clone-copy" onclick="copyClone()">Copy</button>
        </div>
      </div>

      <div class="checklist" style="margin-top: 1rem;">
        <div class="check-item">
          <span class="check-icon">1</span>
          <span class="check-text"><code>cd hyle && cargo build --release</code></span>
        </div>
        <div class="check-item">
          <span class="check-icon">2</span>
          <span class="check-text"><code>cargo test</code> &mdash; all 364 tests should pass</span>
        </div>
        <div class="check-item">
          <span class="check-icon">3</span>
          <span class="check-text"><code>./target/release/hyle</code> to start</span>
        </div>
      </div>
    </section>

    <section class="section">
      <h2>Good First Issues</h2>
      <p class="section-desc">Looking to contribute? These issues are perfect for getting started.</p>

      <div class="issue-list">
        <div class="issue" onclick="openIssue(1)">
          <span class="issue-icon enhancement"></span>
          <div class="issue-content">
            <div class="issue-title">Add /fmt slash command for code formatting</div>
            <div class="issue-meta">#42 opened 3 days ago</div>
            <div class="issue-labels">
              <span class="label label-good-first">good first issue</span>
              <span class="label label-help-wanted">help wanted</span>
            </div>
          </div>
        </div>
        <div class="issue" onclick="openIssue(2)">
          <span class="issue-icon enhancement"></span>
          <div class="issue-content">
            <div class="issue-title">Support .hylerc config file in project root</div>
            <div class="issue-meta">#38 opened 5 days ago</div>
            <div class="issue-labels">
              <span class="label label-good-first">good first issue</span>
            </div>
          </div>
        </div>
        <div class="issue" onclick="openIssue(3)">
          <span class="issue-icon"></span>
          <div class="issue-content">
            <div class="issue-title">Add tests for context compression edge cases</div>
            <div class="issue-meta">#35 opened 1 week ago</div>
            <div class="issue-labels">
              <span class="label label-tests">tests</span>
              <span class="label label-good-first">good first issue</span>
            </div>
          </div>
        </div>
        <div class="issue" onclick="openIssue(4)">
          <span class="issue-icon"></span>
          <div class="issue-content">
            <div class="issue-title">Document slash command architecture</div>
            <div class="issue-meta">#31 opened 2 weeks ago</div>
            <div class="issue-labels">
              <span class="label label-docs">documentation</span>
              <span class="label label-help-wanted">help wanted</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="section">
      <h2>Ways to Contribute</h2>
      <div class="contribute-grid">
        <div class="contribute-card" onclick="openContribute('issues')">
          <div class="contribute-icon">!</div>
          <h3>Report Issues</h3>
          <p>Found a bug? Have a feature request? Open an issue with reproduction steps.</p>
          <a class="contribute-link" href="https://github.com/uprootiny/hyle/issues/new">New Issue &rarr;</a>
        </div>
        <div class="contribute-card" onclick="openContribute('todos')">
          <div class="contribute-icon">#</div>
          <h3>Fix TODOs</h3>
          <p>Run <code>/analyze</code> to find TODO items. Each has context explaining what's needed.</p>
          <a class="contribute-link" href="https://github.com/uprootiny/hyle/search?q=TODO">Browse TODOs &rarr;</a>
        </div>
        <div class="contribute-card" onclick="openContribute('tests')">
          <div class="contribute-icon">*</div>
          <h3>Add Tests</h3>
          <p>Test coverage is at 364 tests. Each module can use more edge cases and property tests.</p>
          <a class="contribute-link" href="https://github.com/uprootiny/hyle/tree/main/tests">Tests Directory &rarr;</a>
        </div>
        <div class="contribute-card" onclick="openContribute('docs')">
          <div class="contribute-icon">?</div>
          <h3>Improve Docs</h3>
          <p>Documentation lives alongside code. Help keep README, ARCHITECTURE.md, and docs/ current.</p>
          <a class="contribute-link" href="https://github.com/uprootiny/hyle/tree/main/docs">Docs Directory &rarr;</a>
        </div>
      </div>
    </section>

    <section class="section">
      <h2>Code Quality Standards</h2>
      <p class="section-desc">PRs are merged when they meet these criteria:</p>

      <div class="checklist">
        <div class="check-item">
          <span class="check-icon">&#10003;</span>
          <span class="check-text">All <code>cargo test</code> passes</span>
        </div>
        <div class="check-item">
          <span class="check-icon">&#10003;</span>
          <span class="check-text">New features have tests</span>
        </div>
        <div class="check-item">
          <span class="check-icon">&#10003;</span>
          <span class="check-text">No <code>unwrap()</code> in library code &mdash; use <code>.context()</code></span>
        </div>
        <div class="check-item">
          <span class="check-icon">&#10003;</span>
          <span class="check-text">Keep modules under 1000 lines when possible</span>
        </div>
        <div class="check-item">
          <span class="check-icon">&#10003;</span>
          <span class="check-text"><code>cargo clippy</code> has no warnings</span>
        </div>
        <div class="check-item">
          <span class="check-icon">&#10003;</span>
          <span class="check-text">Document public APIs with rustdoc</span>
        </div>
      </div>
    </section>

    <section class="section">
      <h2>Recent Activity</h2>
      <div class="activity-feed">
        <div class="activity-item">
          <div class="activity-avatar">U</div>
          <div class="activity-content">
            <span class="activity-user">uprootiny</span>
            <span class="activity-action">merged PR</span>
            <span class="activity-target">#47 Add atomic file write verification</span>
            <div class="activity-time">2 hours ago</div>
          </div>
        </div>
        <div class="activity-item">
          <div class="activity-avatar">C</div>
          <div class="activity-content">
            <span class="activity-user">contributor</span>
            <span class="activity-action">opened issue</span>
            <span class="activity-target">#48 Request: /explain command for code understanding</span>
            <div class="activity-time">5 hours ago</div>
          </div>
        </div>
        <div class="activity-item">
          <div class="activity-avatar">U</div>
          <div class="activity-content">
            <span class="activity-user">uprootiny</span>
            <span class="activity-action">released</span>
            <span class="activity-target">v0.3.3</span>
            <div class="activity-time">1 day ago</div>
          </div>
        </div>
        <div class="activity-item">
          <div class="activity-avatar">D</div>
          <div class="activity-content">
            <span class="activity-user">dev</span>
            <span class="activity-action">closed issue</span>
            <span class="activity-target">#45 Rate limiting not respecting backoff</span>
            <div class="activity-time">2 days ago</div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    MIT License &middot; <a href="https://github.com/uprootiny/hyle">Source</a> &middot; Contributions welcome &middot; No CLA required
  </footer>

  <div class="variant-switcher">
    <div class="switcher-toggle" onclick="document.getElementById('sp').classList.toggle('open')">+</div>
    <div class="switcher-panel" id="sp">
      <a class="switcher-item" href="index.html">Default</a>
      <a class="switcher-item" href="unix.html">Composable</a>
      <a class="switcher-item" href="velocity.html">Velocity</a>
      <a class="switcher-item" href="reliable.html">Reliable</a>
      <a class="switcher-item" href="depth.html">Depth</a>
      <a class="switcher-item" href="playful.html">Playful</a>
      <a class="switcher-item" href="observable.html">Observable</a>
      <a class="switcher-item active" href="community.html">Community</a>
      <a class="switcher-item" href="indie.html">Independent</a>
      <a class="switcher-item" href="learn.html">Learning</a>
      <a class="switcher-item" href="control.html">Control</a>
      <a class="switcher-item" href="secure.html">Secure</a>
      <a class="switcher-item" href="flow.html">Flow</a>
    </div>
  </div>

  <script>
    const cloneCommands = {
      https: 'git clone https://github.com/uprootiny/hyle.git',
      ssh: 'git clone git@github.com:uprootiny/hyle.git',
      cli: 'gh repo clone uprootiny/hyle'
    };

    function setCloneType(type) {
      document.querySelectorAll('.clone-tab').forEach(t => t.classList.remove('active'));
      event.target.classList.add('active');
      document.getElementById('cloneCode').textContent = cloneCommands[type];
    }

    function copyClone() {
      const code = document.getElementById('cloneCode').textContent;
      navigator.clipboard.writeText(code);
      const btn = event.target;
      btn.textContent = 'Copied!';
      setTimeout(() => btn.textContent = 'Copy', 1500);
    }

    function openIssue(num) {
      // Simulate opening an issue - in reality would link to GitHub
      const issues = {
        1: 'Add /fmt slash command for code formatting',
        2: 'Support .hylerc config file in project root',
        3: 'Add tests for context compression edge cases',
        4: 'Document slash command architecture'
      };
      alert(`Would open issue: ${issues[num]}`);
    }

    function openContribute(type) {
      const urls = {
        issues: 'https://github.com/uprootiny/hyle/issues/new',
        todos: 'https://github.com/uprootiny/hyle/search?q=TODO',
        tests: 'https://github.com/uprootiny/hyle/tree/main/tests',
        docs: 'https://github.com/uprootiny/hyle/tree/main/docs'
      };
      // In production: window.location = urls[type];
    }

    function showSection(section) {
      // Scroll to relevant section or show modal
      const info = {
        tests: '364 tests covering: tool execution, context management, safety blocklist, atomic writes, API streaming, session persistence, and more.',
        loc: '26,000 lines of Rust across 31 modules. Core logic in src/, tests in tests/, documentation in docs/.',
        modules: 'Key modules: agent.rs (execution loop), tools.rs (file ops), client.rs (API), ui.rs (TUI), context.rs (compression).',
        contributors: 'Open to all contributors. No CLA. MIT license. Good first issues labeled and ready.'
      };
      alert(info[section]);
    }
  </script>
</body>
</html>
